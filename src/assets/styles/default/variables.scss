@use "sass:map";
@use "sass:meta";
$colors: (
    // Converted from HSL to more widely supported formats (hex / rgba)
    primary: #C470DB,
    primary-op: rgba(196,112,219,0.1),
    gray: #ABB2BF,
    off-white: #D1D1D1,
    heading: #FFFFFF,
    gray-op: rgba(171,178,191,0.1),
    background: #282C33,
    white: #FFFFFF,
);

// Breakpoints (mobile-first)
$breakpoints: (
    xs: 480px,   // extra small phones
    sm: 676px,   // small phones / large phones
    md: 768px,   // tablets
    lg: 1024px,  // small desktop
    xl: 1280px,  // large desktop
    xxl: 1920px  // very large screens
);

// Helper function to resolve breakpoint value (accepts key or raw value)
@function bp-value($size) {
    @if meta.type-of($size) == 'string' and map.has-key($breakpoints, $size) {
        @return map.get($breakpoints, $size);
    }
    @return $size;
}

// Usage: @include up(md) { ... } // applies at min-width: 768px and up
@mixin up($size) {
    $val: bp-value($size);
    @media (min-width: $val) {
        @content;
    }
}

// Usage: @include down(md) { ... } // applies at max-width: 768px
@mixin down($size) {
    $val: bp-value($size);
    @media (max-width: $val) {
        @content;
    }
}

// Convenience variables for common breakpoints
$mobileScreen: map.get($breakpoints, 'sm');
$tabletScreen: map.get($breakpoints, 'md');
$desktopScreen: map.get($breakpoints, 'lg');
$screenXL: map.get($breakpoints, 'xl');


// Helper: get next breakpoint key in the breakpoints map (null when at end)
@function next-breakpoint($size) {
    $keys: map.keys($breakpoints);
    $idx: index($keys, $size);
    @if $idx == null {
        @return null;
    }
    @if $idx == length($keys) {
        @return null; // no next
    }
    @return nth($keys, $idx + 1);
}

// Mixin: apply between two sizes (accepts keys or raw values)
@mixin between($min, $max) {
    $minVal: bp-value($min);
    $maxVal: bp-value($max);
    @media (min-width: $minVal) and (max-width: calc(#{$maxVal} - 1px)) {
        @content;
    }
}

// Mixin: apply styles only for a named breakpoint 'size' (from size up to next breakpoint - 1px)
// Example: @include only(md) { ... }  // applies from md (768px) up to lg-1px (1023px)
@mixin only($size) {
    $next: next-breakpoint($size);
    @if $next == null {
        // last breakpoint, just use min-width
        @media (min-width: bp-value($size)) {
            @content;
        }
    } @else {
        @include between($size, $next) {
            @content;
        }
    }
}


/* Examples:
    .component { font-size: 14px; }
    @include up(md) {
        .component { font-size: 16px; }
    }

    This is mobile-first: base styles apply to small screens and `up()` adds styles as
    the screen gets larger.
*/
